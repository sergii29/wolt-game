<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wolt Courier Simulator</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #00c2e8; color: white; text-align: center; margin: 0; padding: 20px; }
        .card { background: white; color: #333; border-radius: 15px; padding: 15px; margin: 10px auto; max-width: 400px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .stats { display: flex; justify-content: space-around; font-weight: bold; }
        button { background-color: #00c2e8; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; font-size: 16px; margin: 5px; }
        button:disabled { background-color: #ccc; }
        .bonus-desc { font-size: 12px; color: #666; margin-top: -5px; margin-bottom: 10px; }
        .warning { color: #d9534f; font-size: 11px; font-weight: bold; }
    </style>
</head>
<body>

    <div class="card">
        <h2>Wolt Courier</h2>
        <div class="stats">
            <div>‚ö° –≠–Ω–µ—Ä–≥–∏—è: <span id="energy-display">100</span>%</div>
            <div>üíß –í–æ–¥–∞: <span id="water-display">100</span>%</div>
        </div>
        <h3>–ë–∞–ª–∞–Ω—Å: <span id="balance-display">0.00</span> PLN</h3>
    </div>

    <div class="card">
        <h3>–ó–∞–∫–∞–∑—ã –∏ –ë—É—Å—Ç—ã</h3>
        <button id="work-btn" onclick="takeOrder()">üöÄ –í–∑—è—Ç—å –∑–∞–∫–∞–∑ (–†–∞–∫–µ—Ç–∞)</button>
        <br>
        <button id="energy-btn" onclick="useEnergyDrink()">‚ö° –í—ã–ø–∏—Ç—å –≠–Ω–µ—Ä–≥–µ—Ç–∏–∫</button>
        <p class="warning">* –≠–Ω–µ—Ä–≥–µ—Ç–∏–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞—Å—Ö–æ–¥ —ç–Ω–µ—Ä–≥–∏–∏, –Ω–æ –≤–æ–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ç—Ä–∞—Ç–∏—Ç—å—Å—è, –¥–∞–∂–µ –≤–æ –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è –±—É—Å—Ç–∞.</p>
    </div>

    <div class="card">
        <h3>–ö–∞—Ä—å–µ—Ä–∞</h3>
        <button onclick="buyBonus('bike')">–í–µ–ª–æ—Å–∏–ø–µ–¥ (200 PLN)</button>
        <p class="bonus-desc">–ë–æ–Ω—É—Å: –£—Å–∫–æ—Ä—è–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –∏ —Å–Ω–∏–∂–∞–µ—Ç —à–∞–Ω—Å –ø–æ–ø–∞—Å—Ç—å –≤ –ø—Ä–æ–±–∫—É.</p>

        <button onclick="buyBonus('auto')">–ê–≤—Ç–æ-—Ä–µ–∂–∏–º (1000 PLN)</button>
        <p class="bonus-desc">–ë–æ–Ω—É—Å: –ó–∞–∫–∞–∑—ã –±–µ—Ä—É—Ç—Å—è —Å–∞–º–∏, –Ω–æ –≤–æ–¥–∞ –∏ —ç–Ω–µ—Ä–≥–∏—è —Ç—Ä–∞—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
    </div>

    <script>
        const SAVE_KEY = "WARSZAWA_FOREVER";
        let gameState = {
            energy: 100,
            water: 100,
            balance: 0,
            hasBike: false,
            isAuto: false,
            isEnergyDrinkActive: false
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞
        const saved = localStorage.getItem(SAVE_KEY);
        if (saved) gameState = JSON.parse(saved);

        // 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∞–º–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
        let geoPending = false;
        function checkLocation() {
            if (geoPending) return;
            geoPending = true;
            navigator.geolocation.getCurrentPosition(
                () => { geoPending = false; },
                () => { geoPending = false; },
                { timeout: 5000 }
            );
        }
        setInterval(checkLocation, 30000); // –†–∞–∑ –≤ 30 —Å–µ–∫—É–Ω–¥

        // 2. –õ–æ–≥–∏–∫–∞ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞
        function useEnergyDrink() {
            if (gameState.balance >= 20) {
                gameState.balance -= 20;
                gameState.isEnergyDrinkActive = true;
                updateUI();
                setTimeout(() => {
                    gameState.isEnergyDrinkActive = false;
                    alert("–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫ –ø–µ—Ä–µ—Å—Ç–∞–ª –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å!");
                }, 60000);
            } else {
                alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥ –Ω–∞ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫!");
            }
        }

        // 3. –†–∞–±–æ—Ç–∞ –∏ –ø—Ä–æ–±–∫–∏
        function takeOrder() {
            if (gameState.energy <= 10 || gameState.water <= 10) {
                alert("–í—ã —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª–∏! –ü–æ–ø–µ–π—Ç–µ –≤–æ–¥—ã –∏–ª–∏ –æ—Ç–¥–æ—Ö–Ω–∏—Ç–µ.");
                return;
            }

            // –®–∞–Ω—Å –ø—Ä–æ–±–∫–∏
            if (Math.random() < 0.3) {
                alert("–ü—Ä–æ–±–∫–∞ –≤ –í–∞—Ä—à–∞–≤–µ! –ó–∞–¥–µ—Ä–∂–∫–∞ –∑–∞–∫–∞–∑–∞...");
            }

            // –¢—Ä–∞—Ç–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
            gameState.water -= 5;
            if (!gameState.isEnergyDrinkActive) {
                gameState.energy -= 10;
            }

            gameState.balance += 15.50;
            updateUI();
            saveGame();
        }

        function updateUI() {
            document.getElementById('energy-display').innerText = Math.max(0, gameState.energy);
            document.getElementById('water-display').innerText = Math.max(0, gameState.water);
            document.getElementById('balance-display').innerText = gameState.balance.toFixed(2);
        }

        function saveGame() {
            localStorage.setItem(SAVE_KEY, JSON.stringify(gameState));
        }

        function buyBonus(type) {
            alert("–ë–æ–Ω—É—Å " + type + " –∫—É–ø–ª–µ–Ω! –û–ø–∏—Å–∞–Ω–∏–µ –±–æ–Ω—É—Å–∞ —Ç–µ–ø–µ—Ä—å –∞–∫—Ç–∏–≤–Ω–æ.");
            saveGame();
        }

        updateUI();
    </script>
</body>
</html>
