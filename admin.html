<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>WOLT :: SERVER ADMIN (WARSAW)</title>
    <style>
        :root { --bg: #121212; --panel: #1e1e1e; --border: #333; --accent: #00bcd4; --text: #e0e0e0; --danger: #f44336; --success: #4caf50; }
        body { background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; height: 100vh; font-size: 13px; }
        
        .sidebar { width: 250px; background: #000; border-right: 1px solid var(--border); display: flex; flex-direction: column; }
        .brand { padding: 20px; font-weight: 900; font-size: 18px; color: var(--accent); border-bottom: 1px solid var(--border); letter-spacing: 1px; }
        .menu-item { padding: 15px 20px; cursor: pointer; border-bottom: 1px solid #111; transition: 0.2s; color: #888; }
        .menu-item:hover, .menu-item.active { background: var(--panel); color: #fff; border-left: 3px solid var(--accent); }
        
        .content { flex: 1; padding: 30px; overflow-y: auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        h1 { margin: 0; font-size: 24px; font-weight: 300; }
        
        table { width: 100%; border-collapse: collapse; background: var(--panel); border-radius: 4px; overflow: hidden; }
        th { text-align: left; padding: 15px; background: #252525; color: #aaa; font-weight: 600; font-size: 11px; text-transform: uppercase; }
        td { padding: 15px; border-bottom: 1px solid var(--border); }
        tr:hover { background: #2a2a2a; }
        
        .badge { padding: 4px 8px; border-radius: 12px; font-size: 10px; font-weight: bold; text-transform: uppercase; }
        .b-online { background: rgba(76, 175, 80, 0.2); color: var(--success); }
        .b-offline { background: rgba(244, 67, 54, 0.2); color: var(--danger); }
        
        .card { background: var(--panel); border: 1px solid var(--border); border-radius: 6px; padding: 20px; margin-bottom: 20px; }
        .card h3 { margin-top: 0; border-bottom: 1px solid var(--border); padding-bottom: 10px; font-size: 14px; color: var(--accent); }
        
        .form-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .form-group { margin-bottom: 10px; }
        label { display: block; margin-bottom: 5px; color: #888; font-size: 11px; }
        input, select { width: 100%; background: #000; border: 1px solid var(--border); color: #fff; padding: 8px; border-radius: 4px; box-sizing: border-box; }
        
        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; text-transform: uppercase; font-size: 11px; }
        .btn-primary { background: var(--accent); color: #000; }
        .btn-danger { background: var(--danger); color: #fff; }
        .btn-success { background: var(--success); color: #fff; }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="brand">WARSZAWA ADMIN</div>
        <div class="menu-item active" onclick="showTab('users')">üë• –ò–ì–†–û–ö–ò</div>
        <div class="menu-item" onclick="showTab('gameplay')">üéÆ –£–ü–†–ê–í–õ–ï–ù–ò–ï</div>
        <div class="menu-item" onclick="showTab('security')">üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨</div>
        <div class="menu-item" onclick="showTab('logs')">üìú –õ–û–ì–ò</div>
    </div>

    <div class="content">
        
        <div id="users" class="tab-content active">
            <div class="header"><h1>–°–ø–∏—Å–æ–∫ –ò–≥—Ä–æ–∫–æ–≤ (PLN)</h1> <button class="btn btn-success" onclick="refreshData()">–û–ë–ù–û–í–ò–¢–¨</button></div>
            <table>
                <thead><tr><th>ID</th><th>–°—Ç–∞—Ç—É—Å</th><th>–ò–º—è</th><th>–ë–∞–ª–∞–Ω—Å (PLN)</th><th>–°–∏—Å—Ç–µ–º–∞</th><th>–î–µ–π—Å—Ç–≤–∏–µ</th></tr></thead>
                <tbody id="users-table"></tbody>
            </table>
        </div>

        <div id="gameplay" class="tab-content">
            <div class="header"><h1>–†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è (ID: LOCAL_01)</h1> <button class="btn btn-primary" onclick="saveAll()">–°–û–•–†–ê–ù–ò–¢–¨</button></div>

            <div class="form-grid">
                <div class="card">
                    <h3>üí∞ –§–∏–Ω–∞–Ω—Å—ã</h3>
                    <div class="form-group"><label>–ë–∞–ª–∞–Ω—Å (z≈Ç)</label><input type="number" id="inp-balance"></div>
                    <div class="form-group"><label>–†–µ–π—Ç–∏–Ω–≥ (0-5)</label><input type="number" id="inp-rating" step="0.1" max="5"></div>
                    <div class="form-group"><label>–û–ø—ã—Ç (–ó–∞–∫–∞–∑—ã)</label><input type="number" id="inp-xp"></div>
                </div>

                <div class="card">
                    <h3>‚ù§Ô∏è –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏</h3>
                    <div class="form-group"><label>–≠–Ω–µ—Ä–≥–∏—è (%)</label><input type="range" id="inp-energy" min="0" max="100" oninput="this.nextElementSibling.value=this.value"><output>0</output></div>
                    <div class="form-group"><label>–í–æ–¥–∞ (%)</label><input type="range" id="inp-water" min="0" max="100" oninput="this.nextElementSibling.value=this.value"><output>0</output></div>
                    <div class="form-group"><label>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (%)</label><input type="range" id="inp-mood" min="0" max="100" oninput="this.nextElementSibling.value=this.value"><output>0</output></div>
                </div>

                <div class="card">
                    <h3>üöñ –¢–∞–∫—Å–∏ –∏ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                    <div class="form-group"><label>–õ–∏—Ü–µ–Ω–∑–∏—è</label><select id="inp-license"><option value="false">–ù–µ—Ç</option><option value="true">–ï—Å—Ç—å</option></select></div>
                    <div class="form-group"><label>–ú–∞—à–∏–Ω–∞</label><select id="inp-vehicle"><option value="null">–ù–µ—Ç</option><option value="cyber_taxi">Cyber Taxi</option></select></div>
                    <div class="form-group"><label>–î–µ—Ç–∞–ª–∏ (–ß–∏–ø/–î–≤–∏–≥/–°–ø–ª–∞–≤)</label><div style="display:flex;gap:5px"><input type="number" id="inp-part1"><input type="number" id="inp-part2"><input type="number" id="inp-part3"></div></div>
                </div>
                
                <div class="card">
                    <h3>üåç –ú–∏—Ä (–í–∞—Ä—à–∞–≤–∞)</h3>
                    <div class="form-group"><label>–ò–Ω—Ñ–ª—è—Ü–∏—è (–¶–µ–Ω–∞ x)</label><input type="number" id="inp-inf" step="0.1"></div>
                    <button class="btn btn-primary" onclick="setInflation()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <div id="security" class="tab-content">
            <div class="header"><h1>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h1></div>
            <div class="card" style="max-width:500px">
                <h3>üîë –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è</h3>
                <div class="form-group"><label>–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å:</label><input type="text" id="sec-status" disabled></div>
                <div class="form-group"><label>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label><input type="text" id="new-pass"></div>
                <div style="display:flex;gap:10px"><button class="btn btn-primary" onclick="resetPassword()">–£–°–¢–ê–ù–û–í–ò–¢–¨</button><button class="btn btn-danger" onclick="removePassword()">–£–î–ê–õ–ò–¢–¨</button></div>
            </div>
            <div class="card" style="border-color:var(--danger)">
                <h3>‚ò†Ô∏è Wipe Data</h3>
                <button class="btn btn-danger" onclick="wipeUser()">–£–î–ê–õ–ò–¢–¨ –ê–ö–ö–ê–£–ù–¢</button>
            </div>
        </div>
        
        <div id="logs" class="tab-content">
            <div class="header"><h1>–õ–æ–≥–∏</h1></div>
            <div style="background:#000;padding:15px;border:1px solid #333;font-family:monospace;color:#00e676;height:400px;overflow-y:auto" id="log-output">
                [SYSTEM] Admin Panel Loaded. Currency: PLN<br>
            </div>
        </div>
    </div>

<script>
    const SAVE_KEY = 'wolt_game_save_v1';
    const CFG_KEY = 'wolt_admin_config';

    function showTab(id) {
        document.querySelectorAll('.tab-content').forEach(el=>el.classList.remove('active'));
        document.querySelectorAll('.menu-item').forEach(el=>el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id==='users') refreshData();
        if(id==='gameplay'||id==='security') loadEditor();
    }

    function getDB() { const r=localStorage.getItem(SAVE_KEY); return r?JSON.parse(r):null; }
    function setDB(d) { localStorage.setItem(SAVE_KEY, JSON.stringify(d)); log(`Data saved. Balance: ${d.balance} PLN`); }
    function log(m) { document.getElementById('log-output').innerHTML+=`[LOG] ${m}<br>`; }

    function refreshData() {
        const u = getDB();
        const t = document.getElementById('users-table');
        t.innerHTML = '';
        if(u) {
            t.innerHTML += `<tr><td>#001</td><td><span class="badge b-online">ONLINE</span></td><td>Courier_WAW</td><td>${Math.floor(u.balance)} PLN</td><td>Android/Web</td><td><button class="btn btn-primary" onclick="showTab('gameplay')">EDIT</button></td></tr>`;
        } else {
            t.innerHTML = `<tr><td colspan="6" style="text-align:center;padding:20px">–ë–ê–ó–ê –ü–£–°–¢–ê</td></tr>`;
        }
        t.innerHTML += `<tr style="opacity:0.5"><td>#002</td><td><span class="badge b-offline">OFFLINE</span></td><td>Uber_Pl</td><td>450 PLN</td><td>iOS</td><td><button class="btn" disabled>LOCKED</button></td></tr>`;
    }

    function loadEditor() {
        const u = getDB(); if(!u) return;
        document.getElementById('inp-balance').value = u.balance;
        document.getElementById('inp-rating').value = u.stats.rating;
        document.getElementById('inp-xp').value = u.stats.total_deliveries;
        document.getElementById('inp-energy').value = u.needs.energy;
        document.getElementById('inp-water').value = u.needs.water;
        document.getElementById('inp-mood').value = u.needs.mood;
        document.querySelectorAll('input[type=range]').forEach(el=>el.nextElementSibling.value=el.value);
        if(!u.taxi) u.taxi={license:false,vehicle:null};
        document.getElementById('inp-license').value = u.taxi.license.toString();
        document.getElementById('inp-vehicle').value = u.taxi.vehicle||"null";
        if(!u.inventory) u.inventory={};
        document.getElementById('inp-part1').value = u.inventory.part_chip||0;
        document.getElementById('inp-part2').value = u.inventory.part_engine||0;
        document.getElementById('inp-part3').value = u.inventory.part_alloy||0;
        
        const c = localStorage.getItem(CFG_KEY);
        if(c) document.getElementById('inp-inf').value = JSON.parse(c).inflation;

        const ss = document.getElementById('sec-status');
        if(u.password) { ss.value=u.password; ss.style.color='#4caf50'; } 
        else { ss.value="–ù–ï–¢"; ss.style.color='#f44336'; }
    }

    function saveAll() {
        const u = getDB(); if(!u) return;
        u.balance = parseFloat(document.getElementById('inp-balance').value);
        u.stats.rating = parseFloat(document.getElementById('inp-rating').value);
        u.stats.total_deliveries = parseInt(document.getElementById('inp-xp').value);
        u.needs.energy = parseInt(document.getElementById('inp-energy').value);
        u.needs.water = parseInt(document.getElementById('inp-water').value);
        u.needs.mood = parseInt(document.getElementById('inp-mood').value);
        u.taxi.license = (document.getElementById('inp-license').value==='true');
        const v = document.getElementById('inp-vehicle').value;
        u.taxi.vehicle = (v==='null')?null:v;
        u.inventory.part_chip = parseInt(document.getElementById('inp-part1').value);
        u.inventory.part_engine = parseInt(document.getElementById('inp-part2').value);
        u.inventory.part_alloy = parseInt(document.getElementById('inp-part3').value);
        setDB(u); alert('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!');
    }

    function setInflation() {
        const v = parseFloat(document.getElementById('inp-inf').value);
        localStorage.setItem(CFG_KEY, JSON.stringify({inflation:v}));
        alert(`–ò–Ω—Ñ–ª—è—Ü–∏—è: x${v}`);
    }

    function resetPassword() {
        const p = document.getElementById('new-pass').value;
        if(!p) return alert('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å!');
        const u = getDB(); u.password = p; setDB(u);
        alert(`–ü–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${p}`); loadEditor();
    }
    
    function removePassword() {
        if(!confirm('–°–Ω—è—Ç—å –ø–∞—Ä–æ–ª—å?')) return;
        const u = getDB(); delete u.password; setDB(u);
        alert('–ü–∞—Ä–æ–ª—å —É–¥–∞–ª–µ–Ω'); loadEditor();
    }

    function wipeUser() {
        if(confirm('–£–î–ê–õ–ò–¢–¨?')) { localStorage.removeItem(SAVE_KEY); location.reload(); }
    }

    refreshData();
</script>
</body>
</html>
